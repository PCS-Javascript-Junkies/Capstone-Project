<!DOCTYPE html>
<html>
<head>
    <title>Tree Layout</title>
    <script src="../public/database/dbMain.js"></script>

</head>
<body>
    <h1>Tree Display</h1>
    <script id="thetree" type="text/x-handlebars-template">
    <style>
    table { margin-left: auto; margin-right: auto; border: 1px dotted;}
    tr td{border: 1px dotted; padding-left:10px; padding-right: 10px;}
    #lvl1Space {width:100px;}
    .border{border: 1px solid black; align: center;}
    </style>
    <table>
        <tbody>
              <tr><td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;</td></td></td></td></td></td></td></td></td><td>{{root}}{{#list rootQ}}{{rootQ}}{{/list}}</td><td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;</td></td></td></td></td><td class "border">&nbsp;</td></td></td></td></tr>

            <tr><td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">Outside Tree<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;</td></td></td></td></td></td></td></td></td><td>&nbsp;</td><td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">Inside Tree<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;</td></td></td></td></td><td class "border">&nbsp;</td></td></td></td></tr>

            <tr><td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">Theme Questions<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;</td></td></td></td></td></td></td></td></td><td>&nbsp;</td><td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">ThemeQuestions<td class "border">&nbsp;<td class "border">&nbsp;<td class "border">&nbsp;</td></td></td></td></td><td class "border">&nbsp;</td></td></td></td></tr>

            <tr><td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode</td></td></td></td></td></td></td></td></td><td>&nbsp;</td><td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode<td class "border">themeNode</td></td></td></td></td><td class "border">themeNode</td></td></td></td></tr>

            <tr><td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item</td></td></td></td></td></td></td></td></td><td>&nbsp;</td><td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item</td></td></td></td></td><td class "border">Item</td></td></td></td></tr>

            <tr><td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item</td></td></td></td></td></td></td></td></td><td>&nbsp;</td><td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item</td></td></td></td></td><td class "border">item</td></td></td></td></tr>

            <tr><td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item</td></td></td></td></td></td></td></td></td><td>&nbsp;</td><td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item<td class "border">Item</td></td></td></td></td><td class "border">item</td></td></td></td></tr>

        </tbody>
    </table>
</script>

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.js"></script>
    <script>

    console.log(tree);
    (function(){
        var data = {
            root: tree.root.id,
            rootQ: tree.root.questions,
            area: tree.root.outsideTree.id,
            areaQ: tree.root.outsideTree.questions
        }
        var template = Handlebars.compile($('#thetree').html());
        $(document.body).append(temp = template(data));

    })();

  Handlebars.registerHelper('list', function(items, options) {
  var out = "<ul>";

  for(var i=0, l=items.length; i<l; i++) {
    out = out + "<li>" + options.fn(items[i]) + "</li>";
  }

  return out + "</ul>";
});
</script>
</body>
</html>